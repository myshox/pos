@import "tailwindcss";

@theme {
  --font-display: "M PLUS Rounded 1c", "Noto Sans TC", serif;
  --font-cute: "M PLUS Rounded 1c", "Noto Sans TC", sans-serif;
}

html {
  height: 100%;
  -webkit-text-size-adjust: 100%;
  /* iOS overscroll 露出的底層背景 */
  background: linear-gradient(165deg, #f8f6f2 0%, #efeae4 45%, #e6dfd6 100%);
}
body {
  height: 100%;
  margin: 0;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  background: linear-gradient(165deg, #f8f6f2 0%, #efeae4 45%, #e6dfd6 100%);
  font-family: var(--font-cute);
  overflow-x: hidden;
}
#root {
  height: 100%;
  min-height: 100%;
}

/* 觸控友善：重要按鈕可加 min-h-[44px]；減少點擊延遲與閃爍 */
.touch-target {
  min-height: 44px;
  min-width: 44px;
}
button, a, [role="button"], input, select, textarea {
  -webkit-tap-highlight-color: rgba(180, 140, 80, 0.15);
  touch-action: manipulation;
}

/* 手機/平板橫向捲動表格 */
.overflow-x-auto {
  -webkit-overflow-scrolling: touch;
}

/* 購物車/結帳區底部留安全區（iPhone 等有 Home 指示條） */
.cart-drawer-footer {
  padding-bottom: max(1rem, env(safe-area-inset-bottom));
}
.floating-cart-btn {
  /* 往內縮，避免 iPhone 邊緣/圓角切到 */
  bottom: max(1.75rem, calc(env(safe-area-inset-bottom) + 0.75rem));
  right: max(1.25rem, calc(env(safe-area-inset-right) + 0.75rem));
}

/* 文創市集主色 - 溫潤協調 */
.header-bar {
  background: linear-gradient(135deg, #5a4d42 0%, #453a30 50%, #3d3329 100%);
  box-shadow: 0 2px 16px rgba(45, 51, 41, 0.2);
}

.card-market {
  background: #fefdfb;
  border: 1px solid #e8e2d9;
  box-shadow: 0 2px 16px rgba(90, 75, 60, 0.06);
}

.btn-primary {
  background: linear-gradient(180deg, #c9a227 0%, #a67c00 100%);
  color: #fff;
  box-shadow: 0 2px 10px rgba(166, 124, 0, 0.3);
}
.btn-primary:hover {
  background: linear-gradient(180deg, #d4ad33 0%, #b88a0a 100%);
  box-shadow: 0 4px 14px rgba(166, 124, 0, 0.35);
}
.btn-primary:active {
  box-shadow: 0 1px 6px rgba(166, 124, 0, 0.4);
}

/* 浮動購物車按鈕：更顯眼（提高 selector specificity 覆蓋 btn-primary） */
.btn-primary.floating-cart-btn {
  /* 品牌暖金色系（符合整體 IP） */
  background: linear-gradient(180deg, #d6a312 0%, #a97900 100%);
  box-shadow: 0 10px 22px rgba(166, 124, 0, 0.38);
  border: 3px solid rgba(255, 255, 255, 0.92);
}
.btn-primary.floating-cart-btn:hover {
  background: linear-gradient(180deg, #e1b01f 0%, #bf8a0a 100%);
  box-shadow: 0 12px 26px rgba(166, 124, 0, 0.45);
  border-color: rgba(255, 255, 255, 0.98);
}
.btn-primary.floating-cart-btn:active {
  box-shadow: 0 8px 18px rgba(166, 124, 0, 0.5);
}

.category-badge {
  background: #f6f2eb;
  color: #5a4d42;
  border: 1px solid #e5dfd5;
}

@keyframes toast-in {
  from { opacity: 0; transform: translate(-50%, 10px); }
  to { opacity: 1; transform: translate(-50%, 0); }
}
.toast-enter {
  animation: toast-in 0.25s ease-out;
}

@keyframes modal-in {
  from { opacity: 0; transform: scale(0.97); }
  to { opacity: 1; transform: scale(1); }
}
.modal-panel {
  animation: modal-in 0.2s ease-out;
}

/* POS 字型大小：transform 相容 iOS（Safari/WebView 不支援 zoom） */
.pos-font-scaler.pos-font-small {
  -webkit-transform: scale(0.88);
  transform: scale(0.88);
  transform-origin: top left;
  width: 113.636%;
  height: 113.636%;
  min-height: 113.636%;
}
.pos-font-scaler.pos-font-medium {
  -webkit-transform: scale(1);
  transform: scale(1);
  transform-origin: top left;
  width: 100%;
  height: 100%;
}
.pos-font-scaler.pos-font-large {
  -webkit-transform: scale(1.12);
  transform: scale(1.12);
  transform-origin: top left;
  width: 89.29%;
  height: 89.29%;
  min-height: 89.29%;
}
